<div *ngIf='error_msg!=null'    class=error [innerHTML]='error_msg'></div>
<div *ngIf='warning_msg!=null'  class=warning [innerHTML]='warning_msg'></div>
<div *ngIf='info_msg!=null'     class=info [innerHTML]='info_msg'></div>

<form [formGroup]="form" >

	<div class=detail>
    <table class='no_border center'>
		<tr>
			<td colspan=2>
				Show history for
			</td>
		</tr>
        <tr>
            <td>
    <mat-checkbox  formControlName='show_booking' labelPosition="after" color=primary > Booking
    </mat-checkbox> <br/>
            </td>
            <td>
    <mat-checkbox  formControlName='show_return' labelPosition="after" color=primary > Return
    </mat-checkbox> <br/>
            </td>
            <td>
    <mat-checkbox  formControlName='show_penalty' labelPosition="after" color=primary > Penalty
    </mat-checkbox> <br/>
            </td>
        </tr>
        <tr>
            <td>
    <mat-checkbox  formControlName='show_earning' labelPosition="after" color=primary > Earning
    </mat-checkbox> <br/>
            </td>
            <td>
    <mat-checkbox  formControlName='show_deposit' labelPosition="after" color=primary > Deposit
    </mat-checkbox> <br/>
            </td>
            <td>
    <mat-checkbox  formControlName='show_withdraw' labelPosition="after" color=primary > Withdraw
    </mat-checkbox> <br/>
            </td>
        </tr>
        <tr>
        </tr>
    </table>
	</div>
</form>

<table class=center>
	<thead>
		<tr >
			<th>Date</th>
			<th>Credit</th>
			<th>Debit</th>
			<th>Balance</th>
			<th>Note</th>
		</tr>
	</thead>
	<tbody>
		<tr *ngFor="let tran of tran_to_show ;let i=index;
			let even=even;let odd=odd; let first = first; let last = last; trackBy:trackByFunc"
			[ngClass]="{ odd: odd, even: even }"  >
			<td>{{tran.date.slice(0,10)}} </td>
			<td> 
				<span *ngIf='tran.actual_amount > 0' > {{tran.actual_amount}}</span>
				<span *ngIf='tran.actual_amount ==null && tran.requested_amount> 0' > 
					{{tran.requested_amount}} 
				</span>
			</td>
			<td>
				<span *ngIf='tran.actual_amount < 0' > {{-tran.actual_amount}}</span>
				<span *ngIf='tran.actual_amount ==null && tran.requested_amount< 0' > 
						{{-tran.requested_amount}}
				</span>
			</td>
			<td>
				{{tran.balance}}
			</td>
			<td>{{tran.description}} 
				<span *ngIf='tran.actual_amount ==null && tran.requested_amount ' >
					<br/>Pending
				</span>
			</td>
		</tr>
	</tbody>
</table>
